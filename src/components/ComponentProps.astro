---
import type { ComponentData } from '../types';
import ComponentPropsInput from './ComponentPropsInput.astro';

interface Props {
  component: ComponentData;
}

const { component } = Astro.props;
---

<div>
  <table class="component-props">
    <thead>
      <tr>
        <th class="prop-name-column">Prop</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      {
        component.schema.props.map((prop) => (
          <tr>
            <td class="prop-name-column">
              <pre class="prop-name">{prop.name}</pre>
            </td>
            <td class="prop-value-column">
              <ComponentPropsInput
                {prop}
                value={component.content.props[prop.name]}
                componentId={component.id}
              />
            </td>
          </tr>
        ))
      }
    </tbody>
  </table>
</div>

<style lang="scss">
  .prop-name-column {
    min-width: max-content;
    min-width: 20rem;
  }

  .prop-value-column {
    width: 100%;
  }

  .prop-name {
    font-size: 1.4rem;
  }
</style>
